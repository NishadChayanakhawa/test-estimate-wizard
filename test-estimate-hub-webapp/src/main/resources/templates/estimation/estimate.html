<!DOCTYPE html>
<html lang="en">

<head th:insert="~{BasePage :: headSection(title=~{::title/text()},script=~{::script},style=~{::style},link=~{::link})}"
	th:remove="tag">
	<title>Test Estimate Hub</title>
	<link th:href="@{/datatable/css/datatables.min.css}" rel="stylesheet" />
	<link th:href="@{/toastr/css/toastr.min.css}" rel="stylesheet" />
	<script th:src="@{/application/js/common/apiHandling.js}"></script>
	<script th:src="@{/jquery/js/jquery.tmpl.js}"></script>
	<script th:src="@{/toastr/js/toastr.min.js}"></script>
	<script th:src="@{/application/js/common/common.js}"></script>
	<script th:src="@{/application/js/estimation/submitEstimation.js}"></script>
	<script th:src="@{/datatable/js/datatables.min.js}"></script>
	<script th:src="@{/datatable/js/dataTables.bootstrap5.min.js}"></script>
	<script th:src="@{/jquery/js/jquery-ui.min.js}"></script>
	<link th:href="@{/jquery/css/jquery-ui.min.css}" rel="stylesheet" />
	<script>
		$(document).ready(function () {
			submitEstimation.init();
		});
	</script>
</head>

<body>
	<input type="hidden" id="csrf" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

	<div th:replace="~{BasePage :: toastContainerSection}"></div>

	<nav th:replace="~{BasePage :: pageHeader(subTitle='Submit Estimation')}"></nav>

	<div th:replace="~{BasePage :: sidebar}"></div>

	<input type="hidden" class="form-control" id="id" name="id" th:value="${change.id}" required />

	<div class="p-4">

		<div>
			<span class="text-body-secondary"
				th:text="${change.releaseIdentifier + ' - ' + change.identifier}">Release</span><br>
			<span class="h5" th:text="${change.name}">Release</span>
			<span class="badge bg-primary" th:text="${change.changeTypeName}">Release</span>
			<span class="badge bg-info" th:text="${change.startDate + ' to ' + change.endDate}">Release</span>
		</div>
		<hr>
		<div class="accordion" id="requirementsAccordian">
			<div th:each="requirement : ${change.requirements}" class="accordion-item">
				<h2 class="accordion-header">
					<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
						th:data-bs-target="${'#requirement_' + requirement.id}" aria-expanded="false" aria-controls="collapseOne"
						th:text="${requirement.identifier + ' - ' + requirement.description}">
						Accordion Item #1
					</button>
				</h2>
				<div th:id="${'requirement_' + requirement.id}" class="accordion-collapse collapse"
					data-bs-parent="#requirementsAccordian">
					<div class="accordion-body bg-secondary-subtle rounded-end border">
						
						<form th:id="${'useCaseForm_' + requirement.id + '_1'}" autocomplete="off" class="border-bottom border-secondary rounded-end">
							<input type="hidden" th:id="${'useCaseID_' + requirement.id + '_1'}" name="id" required>
							<div class="form-floating mb-3">
								<input type="text" class="form-control" th:id="${'useCaseDescription_' + requirement.id + '_1'}" name="description" required />
								<label for="description">Use Case Description</label>
							</div>
							<div class="row mb-3">
								<div class="col-3">
									<label class="form-label" th:for="${'useCaseApplication_' + requirement.id + '_1'}">Application</label>
									<select class="form-select" th:id="${'useCaseApplication_' + requirement.id + '_1'}" name="applicationName" required>
										<option value="App1">Application 1</option>
										<option value="App2">Application 2</option>
										<option value="App3">Application 3</option>
									</select>
								</div>
								<div class="col-3">
									<label class="form-label" th:for="${'useCaseModule_' + requirement.id + '_1'}">Module</label>
									<select class="form-select" th:id="${'useCaseModule_' + requirement.id + '_1'}" name="moduleName" required disabled>

									</select>
								</div>
								<div class="col-3">
									<label class="form-label" th:for="${'useCaseSubModule_' + requirement.id + '_1'}">Sub-Module</label>
									<select class="form-select" th:id="${'useCaseSubModule_' + requirement.id + '_1'}" name="subModuleName" required disabled>

									</select>
								</div>
								<div class="col-3">
									<label class="form-label" th:for="${'useCaseDavaVariationCount_' + requirement.id + '_1'}">Data Variation Count</label>
									<input class="form-control constraint-numeric" th:id="${'useCaseDavaVariationCount_' + requirement.id + '_1'}" name="dataVariationCount" required />
								</div>
							</div>
							<label for="basic-url" class="form-label">Select complexity related to -</label>
							<div class="input-group mb-3">
								<span class="input-group-text">Test Data</span>
								<select class="form-select" id="testDataComplexityCode_1" name="testDataComplexityCode">
									<option value="VERY_LOW">Very Low</option>
									<option value="LOW">Low</option>
									<option value="MEDIUM">Medium</option>
									<option value="HIGH">High</option>
									<option value="VERY_HIGH">Very High</option>
								</select>
								<span class="input-group-text">Test Configuration</span>
								<select class="form-select" id="testDataComplexityCode_1" name="testDataComplexityCode">
									<option value="VERY_LOW">Very Low</option>
									<option value="LOW">Low</option>
									<option value="MEDIUM">Medium</option>
									<option value="HIGH">High</option>
									<option value="VERY_HIGH">Very High</option>
								</select>
								<span class="input-group-text">Test Validation</span>
								<select class="form-select" id="testDataComplexityCode_1" name="testDataComplexityCode">
									<option value="VERY_LOW">Very Low</option>
									<option value="LOW">Low</option>
									<option value="MEDIUM">Medium</option>
									<option value="HIGH">High</option>
									<option value="VERY_HIGH">Very High</option>
								</select>
							</div>
							<div class="clearfix">
								<button class="float-end btn btn-sm btn-body text-danger" id="addRequirementButton">
									<i class="fa fa-trash"></i> Delete Use Case
								</button>
							</div>
							
						</form>
						<button class="btn btn-sm btn-body text-success" id="addRequirementButton">
							<i class="fa fa-plus"></i> Add Use Case
						</button>
					</div>
				</div>
			</div>
		</div>

	</div>

	<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
	<button id="saveChange" type="submit" class="btn btn-primary">Save changes</button>

</body>

</html>